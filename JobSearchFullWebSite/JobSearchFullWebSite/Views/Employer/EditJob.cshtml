@using JobSearchFullWebSite.Models
@using JobSearchFullWebSite.Enums
@model Job
@{
    ViewData["Title"] = "EditJob";
}

<div class="cont">
    <div class="main px-4">
        <b>Submit Job</b>
        <br />
        <br />
        <form method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6 col-12">
                    <div class="row">
                        <div class="col-md-2 col-12 d-flex flex-row align-items-center ImageAndUpload">
                            @if (Model != null && Model.JobImages.FirstOrDefault(x => x.IsPoster) != null)
                            {
                                if (Model.JobImages.FirstOrDefault(x => x.IsPoster).Image != null)
                                {
                                <input type="hidden" name="ImageIds[]" value="@Model.JobImages.FirstOrDefault(x => x.IsPoster).Id " />
                                @*<input type="hidden" name="JobImages[@m].Image" value="@item.Image" />*@
                                <img src="~/images/jobImage/@Model.JobImages.FirstOrDefault(x=>x.IsPoster).Image"
                                     alt=""
                                     style="height: 60px; width: 60px"
                                     class="border-radius" />
                                <input type="hidden" value="@Model.JobImages.FirstOrDefault(x=>x.IsPoster).Image" name="JobImages.FirstOrDefault(x=>x.IsPoster).Image" class="HiddenInputImage" />
                                <div class="ImageXIcon backColorBlue  border-radius p-2  align-items-center justify-content-center" style="width: 20px;height: 20px;"><i class="fas fa-times blue"></i></div>
                                }
                            }
                            else
                            {
                                <div>Sekil yukle</div>
                            }


                        </div>
                        <div class="col-md-4 col-12 d-flex flex-row align-items-center mt-2">
                            @*<input type="file" id="file" asp-for="@Model.File "/>
            <label for="file" asp-for="@Model.File " class=" backColorBlue"><span class="blue">Browse</span> </label>*@
                            <input class="form-control col-md-2 " id="file" type="file" asp-for="@Model.File" style="display:contents;">
                            <label for="file" class=" backColorBlue"><span class="blue">Browse</span></label>
                        </div>
                    </div>

                </div>
                <br />
                <br />
                <br />
                <div class="row">
                    <div class="col-md-8 d-flex flex-column">
                        <label asp-for="@Model.Name">Name</label>
                        <input type="text" class="border-0 backColorBlue border-radius py-2 px-2" placeholder="Job Name" asp-for="@Model.Name">
                        <span asp-validation-for="@Model.Name" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.OfferedMaxSalary">OfferedMaxSalary</label>
                        <input class="border-0 backColorBlue border-radius py-2 px-2" placeholder="Job OfferedMaxSalary" asp-for="@Model.OfferedMaxSalary">
                        <span asp-validation-for="@Model.OfferedMaxSalary" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.OfferedMinSalary">OfferedMinSalary</label>
                        <input class="border-0 backColorBlue border-radius py-2 px-2" placeholder="Job OfferedMinSalary" asp-for="@Model.OfferedMinSalary">
                        <span asp-validation-for="@Model.OfferedMinSalary" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.OfferedSalaryForTime">OfferedSalaryForTime</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="OfferedSalaryForTime" asp-for="@Model.OfferedSalaryForTime" asp-items="Html.GetEnumSelectList<JobSalaryForTime>()">
                        </select>
                        <span asp-validation-for="@Model.OfferedSalaryForTime" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.JobType">JobType</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="JobType" asp-for="@Model.JobType" asp-items="Html.GetEnumSelectList<JobType>()">
                        </select>
                        <span asp-validation-for="@Model.JobType" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.IsUrgent">IsUrgent</label>
                        <input class="border-0 backColorBlue border-radius py-2 px-2" placeholder="Job IsUrgent" asp-for="@Model.IsUrgent">
                        <span asp-validation-for="@Model.IsUrgent" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.ExpirationDate">ExpirationDate</label>
                        <input class="border-0 backColorBlue border-radius py-2 px-2" placeholder="Job ExpirationDate" asp-for="@Model.ExpirationDate">
                        <span asp-validation-for="@Model.ExpirationDate" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.RequiredGender">RequiredGender</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="RequiredGender" asp-for="@Model.RequiredGender" asp-items="Html.GetEnumSelectList<Gender>()">
                        </select>
                        <span asp-validation-for="@Model.RequiredGender" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.RequiredQualificationr">RequiredQualificationr</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="RequiredQualificationr" asp-for="@Model.RequiredQualificationr" asp-items="Html.GetEnumSelectList<Qualification>()">
                        </select>
                        <span asp-validation-for="@Model.RequiredQualificationr" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.RequiredExperience">RequiredExperience</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="RequiredExperience" asp-for="@Model.RequiredExperience" asp-items="Html.GetEnumSelectList<RequiredExperience>()">
                        </select>
                        <span asp-validation-for="@Model.RequiredExperience" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.CareerLevel">CareerLevel</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" placeholder="CareerLevel" asp-for="@Model.CareerLevel" asp-items="Html.GetEnumSelectList<CareerLevel>()">
                        </select>
                        <span asp-validation-for="@Model.CareerLevel" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.CityId">City</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" asp-for="@Model.CityId" asp-items="@(new SelectList(ViewBag.Cities, "Id", "CityName"))">
                            <option class="" selected disabled>City sec</option>
                        </select>
                        <span asp-validation-for="@Model.CityId" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.JobCategoryId">Categoriya</label>
                        <select class="border-radius border-0 backColorBlue py-2 px-2" asp-for="@Model.JobCategoryId" asp-items="@(new SelectList(ViewBag.Categories, "Id", "Name"))">
                            <option class="" selected disabled>Categoriya sec</option>
                        </select>
                        <span asp-validation-for="@Model.JobCategoryId" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-md-4 d-flex flex-column">
                        <label asp-for="@Model.RequiredLanguageIds">Language</label>
                        <select class="form-control" asp-for="@Model.RequiredLanguageIds">
                            @if (Model != null)
                            {
                                    @foreach (var item in ViewBag.Languages)
                                    {
                                        if (Model.RequiredLanguages.Any(x => x.Language == item.Name))
                                        {
                                            <option selected value="@item.Id">@item.Name</option>
                                        }
                                        else
                                        {
                                            <option value="@item.Id">@item.Name</option>
                                        }
                                    }
                            }
                            @*else
                            {
                                @if (ViewBag.Languages != null)
                                {
                                    @foreach (var item in ViewBag.Languages)
                                    {
                                        <option value="@item.Id">@item.Name</option>
                                    }
                                }
                            }*@

                        </select>                        @*<select class="form-control" asp-for="@Model.RequiredLanguageIds"><option selected  disabled >Dilleri sec</option>

        </select>*@
                        <span asp-validation-for="@Model.RequiredLanguageIds" class="text-danger"></span>
                    </div>
                    <div class="col-12 d-flex flex-column">
                        <label asp-for="@Model.JobContentTextEditor">JobContentTextEditor</label>
                        <textarea asp-for="@Model.JobContentTextEditor">
                                </textarea>
                        <span asp-validation-for="@Model.JobContentTextEditor" class="text-danger"></span>
                        <br>
                    </div>
                    <div class="col-12">
                        <B>Images</B>
                        <br />
                        @{ int m = 0;
                            if (Model.JobImages != null)
                            {
                                @foreach (var item in Model.JobImages.Where(x => !x.IsPoster))
                                {
                                    <div class="col-lg-3 col-md-6 col-12 PositionRelativeForIcon">
                                        <input type="hidden" name="ImageIds[]" value="@item.Id" />
                                        <input type="hidden" name="JobImages[@m].Image" value="@item.Image" />
                                        <img src="~/images/jobImage/@item.Image" alt="" class="border-radius" style="width: 200px;height: 200px;">
                                        <div class="PortfolioXIcon backColorBlue  border-radius p-2 d-flex align-items-center justify-content-center RemoveImageItem" style="width: 20px;height: 20px;"><i class="fas fa-times blue"></i></div>
                                    </div>
                                    m++;
                                }}
                        }
                    <br />
                        <input class="form-control  col-md-4" style="display:block !important; width:auto !important;height:auto !important;" asp-for="@Model.Images">
                        <span asp-validation-for="@Model.Images" class="text-danger"></span>
                    </div>
                    <br />
                    <br />
                </div>


            </div>
            <br />
            <br />
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>
    </div>
    <div class="sidebar ps-3">
        <div class="">
            <div class="ImageAndUserName flex-row">
                <div class="UserImage d-flex align-items-center">
                    <img src="./../SiteImages/member4.jpg"
                         alt=""
                         style="width: 60px; height: 60px; border-radius: 50%" />
                </div>
                <div class="
                    d-flex
                    flex-column
                    ms-3
                    align-items-center
                    justify-content-center
                  ">
                    <div class="UserName"><b>User Name</b></div>
                    <div class="UserCity">User City</div>
                    <div class="UserProfileButton">
                        <a href="">
                            <button class="btn btn-primary" style="font-size: 10px">
                                View Profile
                            </button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="d-flex flex-column">
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="far fa-file-alt"></i></div>
                    <div class="SectionName ms-2">User Dashboard</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="far fa-user-circle"></i></div>
                    <div class="SectionName ms-2">Profile</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fas fa-file-signature"></i></div>
                    <div class="SectionName ms-2">My resume</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fas fa-volume-up"></i></div>
                    <div class="SectionName ms-2">My applied</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="far fa-bookmark"></i></div>
                    <div class="SectionName ms-2">Shortlist Jobs</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="far fa-user"></i></div>
                    <div class="SectionName ms-2">Following Employers</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fas fa-volume-up"></i></div>
                    <div class="SectionName ms-2">Alert Jobs</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fab fa-weixin"></i></div>
                    <div class="SectionName ms-2">Messages</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fas fa-lock"></i></div>
                    <div class="SectionName ms-2">Change Password</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="far fa-trash-alt"></i></div>
                    <div class="SectionName ms-2">Delete Profile</div>
                </a>
                <a class="d-flex mt-2 UserProfileItem px-2 border-radius">
                    <div class="Icon"><i class="fas fa-power-off"></i></div>
                    <div class="SectionName ms-2">Logout</div>
                </a>
            </div>
        </div>
    </div>
</div>


<style>
    body {
        font-size: 15px !important;
    }

    .sidebar {
        background: black;
        color: white;
        position: fixed;
        width: 20%;
        height: 100%;
        left: 0;
        overflow: auto;
        display: block;
        margin-top: -30px !important;
        padding-top: 40px !important;
    }

    .main {
        background: silver;
        color: black;
        width: 80%;
        float: right;
    }

        .main p {
            margin-bottom: 50px;
        }

    footer {
        display: none;
    }

    .ImageAndUserName {
        display: flex;
    }
</style>

<script src="https://cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>
<script>
    // Replace the <textarea id="editor1"> with a CKEditor 4
    // instance, using default configuration.
    CKEDITOR.replace('JobContentTextEditor');
</script>



